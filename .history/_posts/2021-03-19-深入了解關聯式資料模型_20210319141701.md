---
layout: post
title:  "深入了解關聯式資料模型(Relational Data Model)"
author: champion
categories: [DataBase]
image: assets/images/DataBase/database_cover.jpg
tags: [featured]
---

最近在學校修了一堂資料庫管理的課，讀著讀著原文書，想消化自己所吸收的知識並且分享給大家 ，這次我們要介紹關聯式資料模型(Relational Data Model)的基本概念

所謂的關聯式資料模型是很多個關聯表(relations)組合而成的，就像(圖一)學生和課程兩個關連表就可以組成一個關聯式資料模型，在正式的關聯式資料模型的名詞中，一列(row)稱為一個值組(tuple)，一欄的標題(column header)稱為屬性(attribute)，而一張表(table)稱為一個關聯表(relation)，而定義域(domains)則代表屬性值的範圍，接下來我會分別介紹這些名詞的性質

<center>
    <img style="border-radius: 0.3125em;
    box-shadow: 0 2px 4px 0 rgba(34,36,38,.12),0 2px 10px 0 rgba(34,36,38,.08);" 
    src="../assets/images/DataBase/picture1.png">
    <br>
    <div style="color:orange; border-bottom: 0px solid #d9d9d9;
    display: inline-block;
    color: #999;
    padding: 1px;">(圖一)</div>
</center>

Domains:

首先先來說定義域**D(domains)**，定義域是很多個**基元值(atomic values)**的集合，什麼是基元值呢?基元值簡單來說就是值不能再分割了，再分割就會使值沒有意義，舉例來說:{電話號碼:0912345678}我們若把它分割成09123和45678就會變得沒有意義，通常我們會為定義域取名並說明資料的型態，電話號碼就是定義域的名字，而我們限制電話號碼只能有10位數則是我們的資料型態

Relation Schema:

**關聯表綱要(relation schema)**是由**關聯表名稱R(relation name)**和一連串屬性(A1,A2,….,An)清單(list)還有定義域所組成

記為R(A1,A2,….,An)，主要用來描述關聯表的性質，而我們會使用dom(Ai)的符號來說明屬性Ai的定義域的範圍是什麼，關聯表的維度(degree)則是關聯表中屬性的數量

關聯表綱要中還有一項**關聯表狀態(relation)**\{t1,t2,…,tn\}，而n個基元值t則是n個值的有序清單t=<v1,v2,…,vn>,1≦i≦n，每個值都是dom(Ai)所定義的值域的集合或者是Null值，而t[Ai]則代表基元值的第i個值對應到屬性Ai，常常會有人說關聯表綱要R是**relation intension**，而關聯表狀態則是**relation extension，兩者一靜一動**，關聯表狀態可能因需求而改變，但是關聯表綱要並不會時常去變動

r(R)在數學上和定義域關係的定義則是如下:

$$r(R) \subseteq (dom(A1) \times dom(A2) \times …. \times dom(An))$$

r(R)是包含於這n個定義域笛卡爾積的集合，比如說:(圖一)dom(名字)=\{金城武,田馥甄\},dom(班級)=\{205,206\}

笛卡爾積則是dom(名字)×dom(班級)=\{\{金城武,205\},\{金城武,206\},\{田馥甄,205\},\{田馥甄,206\}\}，r(R)則是包含於這四個元素的集合

我再次使用(圖一)這個例子來說明上面的名詞，學生和課程就是關聯表的名稱R，名字、學號、班級、主修….則是關聯表中的屬性，dom(班級)=班級命名規則，班級命名規則是我們事先定義的，比如說:限制三位數的整數，學生和課程兩個關聯表都有四個屬性，所以維度是4

那順序重要嗎?

對於基元值本身來說並不重要但是對於基元值裡的值是重要的，因為我前面有說關連表是很多基元值集合，而集合在數學上的定義則是沒有順序的，因此對於關聯表中基元值的順序是不重要的，就像(圖二)和(圖一)雖然順序改變了但是對關聯式資料模型來說是一樣的

<center>
    <img style="border-radius: 0.3125em;
    box-shadow: 0 2px 4px 0 rgba(34,36,38,.12),0 2px 10px 0 rgba(34,36,38,.08);" 
    src="../assets/images/DataBase/picture2.png">
    <br>
    <div style="color:orange; border-bottom: 0px solid #d9d9d9;
    display: inline-block;
    color: #999;
    padding: 1px;">(圖二)</div>
</center>

但是基元值內的值卻是有順序的，前面我們提到n個基元值t則是n個值的有序清單所組成，如果我們想要讓基元值內的值變得沒有順序，就必須更改一些定義，修改如下:

$$R={A1,A2,….,An}不再是一個清單而是一個集合$$

$$D=dom(A1)\cupdom(A2)\cup….dom\cup(An)從笛卡爾積換成聯集$$

$$r={t1,t2,…,tn}每個基元值都是從R映射(mapping)到D$$

舉例來說:t=<(姓名,田馥甄),(學號,23456),(班級,205),(主修,經濟)>

               t=<(學號,23456),(姓名,田馥甄),(班級,205),(主修,經濟)>

在這定義下這兩個基元值是沒有差別的，基元值可以視為(<屬性,<值>)的集合，因此沒有順序關係